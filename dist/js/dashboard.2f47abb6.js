"use strict";(self["webpackChunkvue_admin_template"]=self["webpackChunkvue_admin_template"]||[]).push([[945],{5289:function(e,l,t){function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e,l){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,l||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}function i(e){var l=n(e,"string");return"symbol"==a(l)?l:l+""}function o(e,l,t){return(l=i(l))in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}t.d(l,{AP:function(){return f},zm:function(){return _},du:function(){return v},bB:function(){return k},T2:function(){return g},Zc:function(){return m},GP:function(){return p}});t(9479);var d=t(953),u=t(7682);let s={};class r{constructor(e={}){e=Object.assign({method:"GET",path:"",error:{message(){return"Ошибка запроса: "+this.path},handler:void 0}},e),this.method=e.method.toUpperCase(),this.type=e.type.toLowerCase();const l=/(:[^/]+)/.exec(e.path);this.path=e.path,null!=l&&(this.id=l[0].replace(":","")),this.errorMessage=e.error.message,this.permissionKeyFallback=e.permissionKeyFallback,e.error.handler&&(this.errorHandler=e.errorHandler)}errorHandler(e){"list"!=this.type||404!=e?.response?.status?e?.response?.data&&console.log(e):console.error(e)}async send(e){if(void 0!==this.id){if(e instanceof FormData)var l=e.get(this.id);else l=e[this.id];"GET"!=this.method&&"POST"!=this.method||delete e[this.id]}try{var t=this.method.toLowerCase(),a=await u.A[t](this.path.replace(":"+this.id,l),"get"==t?{params:e}:e);return a}catch(n){throw this.errorHandler(n),n}}}class c{constructor(e,l={},t=[]){o(this,"data",(0,d.Kh)({dict:{},items:[],meta:{},pagination:{from:0,to:0,of:0,per:0}})),o(this,"permissions",{list:()=>b(this?._list),get:()=>b(this?._get),create:()=>b(this?._create),patch:()=>b(this?._patch),replace:()=>b(this?._replace),toggle:()=>b(this?._toggle),change:()=>b(this?._change),reset:()=>b(this?._reset),delete:()=>b(this?._delete)}),this.flags=Object.assign({paginated:!1,listable:!1,editable:!1,deletable:!1,addable:!1,toggleable:!1},l),t.forEach((e=>{"option"==e.filter&&(e.idField=e.idField||"id",e.valueField=e.valueField||"title")})),this.fields=t,e.forEach((e=>{this["_"+e.type]=e,e.id&&(this.idKey=e.id)})),this._list&&void 0===l.listable&&(this.flags.listable=!0),this._delete&&void 0===l.deletable&&(this.flags.deletable=!0),this._patch&&void 0===l.editable&&(this.flags.editable=!0),this._create&&void 0===l.addable&&(this.flags.addable=!0),this._toggle&&void 0===l.toggleable&&(this.flags.toggleable=!0)}async list(e){try{var l=await this._list.send(e)}catch(t){if(404!=t?.request?.status)throw t;this.data.items=[],this.flags.paginated&&(this.data.pagination.from=0,this.data.pagination.to=0,this.data.pagination.per=0,this.data.pagination.of=0)}if(l)return this.flags.paginated?void 0!==l.data.count?(this.data.items=l.data.results,this.data.pagination.from=l.data.count?l.data.page_size*(l.data.page_number-1)+1:0,this.data.pagination.to=Math.min(l.data.page_size*l.data.page_number,l.data.results.length),this.data.pagination.of=l.data.count,this.data.pagination.per=l.data.page_size):(this.data.items=l.data.items,this.data.pagination.from=l.data.size*(l.data.page-1)+1,this.data.pagination.to=Math.min(l.data.size*l.data.page,l.data.items?.length),this.data.pagination.of=l.data.total,this.data.pagination.per=l.data.size):this.flags.key?(this.data.meta=l.data,this.data.items=this.data.meta[this.flags.key]):this.data.items=l.data,l}async get(e){const l=e[this._get.id];let t=await this._get.send(e);if(t)return this.data.dict[l]=t.data,t}create(e){return this._create?.send(e)}patch(e){return this._patch.send(e)}replace(e){return this._replace.send(e)}toggle(e){return this._toggle.send(e)}change(e){return this._change.send(e)}reset(e){return this._reset.send(e)}delete(e){const l={};return l[this._delete.id]=e,this._delete.send(l)}getResourceURL(e){if(null!=e)return this._patch.path.replace(":"+this._patch.id,e);throw"ID not provided"}}function b(e){if(!e)return!1;let l=e.path;return s[l]?.[e.method]||!1}const f=new c([new r({type:"list",method:"GET",path:"admin/contract/list/"})],{paginated:!0},[{visible:!0,key:"id",label:"ID"},{visible:!0,key:"title",label:"Nomi"},{visible:!0,key:"investor",label:"investor"},{visible:!0,key:"fond",label:"fond"},{visible:!1,key:"condition",label:"holati"},{visible:!0,key:"balance",label:"balans"},{visible:!0,key:"payment_currency",label:"valyuta"},{visible:!0,key:"description",label:"ma'lumot"},{visible:!0,key:"status",label:"status"},{visible:!0,key:"contract_type",label:"shartnoma turi",sortable:!0},{visible:!0,key:"percentage",label:"foiz"},{visible:!0,key:"profit",label:"foyda"}]),k=new c([new r({type:"list",method:"GET",path:"admin/contract/org-contract/list/"}),new r({type:"create",method:"POST",path:"admin/contract/org-contract/create/"})],{paginated:!0},[{visible:!0,isAddable:!1,key:"id",label:"ID"},{visible:!0,isAddable:!0,key:"organization",label:"Korxona"},{visible:!0,isAddable:!0,key:"contract_date",label:"Sanasi"},{visible:!0,isAddable:!0,key:"balance",label:"Balansi"},{visible:!0,isAddable:!1,key:"status",label:"status"},{visible:!0,isAddable:!0,key:"type",label:"type"},{visible:!0,isAddable:!1,key:"subdistribution",label:"Taqsimot",sortable:!0}]),v=new c([new r({type:"list",method:"GET",path:"admin/contract/fond/list/"})],{paginated:!0},[{visible:!0,key:"id",label:"ID"},{visible:!0,key:"title",label:"Nomi"},{visible:!0,key:"reason",label:"sabab"},{visible:!0,key:"description",label:"tarif"},{visible:!1,key:"old_balance",label:"eski balans"},{visible:!0,key:"fond_balance",label:"fondning balansi"},{visible:!0,key:"status",label:"status"},{visible:!0,key:"created",label:"yaratilgan"},{visible:!0,key:"start_date",label:"boshlash sanasi"},{visible:!0,key:"end_date",label:"tugatish sanasi",sortable:!0}]),_=new c([new r({type:"list",method:"GET",path:"admin/contract/distribution/list/"}),new r({type:"create",method:"POST",path:"admin/contract/distribution/create/"})]),m=(new c([new r({type:"list",method:"GET",path:"admin/contract/sub-distribution/list/"})]),new c([new r({type:"list",method:"GET",path:"admin/contract/protocol/detail/:id"})],{paginated:!0},[{visible:!0,key:"id",label:"ID"},{visible:!0,key:"inn",label:"Mijoz INN"},{visible:!0,key:"contract_total_balance",label:"Summa"},{visible:!0,key:"balance",label:"balans"},{visible:!0,key:"percentage",label:"Ulush"},{visible:!0,key:"initial_balance",label:"dastlabki sarmoya"},{visible:!0,key:"withdraw",label:"Yechib olish"},{visible:!0,key:"client_balance",label:"Dvidend olish huquqi"},{visible:!0,key:"old_percentage",label:"ulush"},{visible:!0,key:"dividend",label:"Dvidend"},{visible:!0,key:"investment",label:"Sarmoya kiritish(oldingi oy)"}])),p=new c([new r({type:"list",method:"GET",path:"admin/contract/protocol/list/"}),new r({type:"create",method:"POST",path:"admin/contract/protocol/create/"})],{paginated:!0},[{visible:!0,key:"id",label:"ID"},{visible:!0,key:"user",label:"foydalanuvchi"},{visible:!0,key:"fond",label:"Fond"},{visible:!1,key:"contract",label:"shartnoma"},{visible:!1,key:"status",label:"status"},{visible:!0,key:"balance",label:"balans"},{visible:!0,key:"profit",label:"foyda"},{visible:!0,key:"percentage",label:"foiz"},{visible:!0,key:"description",label:"ma'lumot"},{visible:!0,key:"more",label:""}]),g=new c([new r({type:"list",method:"GET",path:"admin/contract/organization/list/"})])},7768:function(e,l,t){t.r(l),t.d(l,{default:function(){return _}});var a=t(641),n=t(33);const i={class:"p-3"},o=["value"],d=["value"];function u(e,l,t,u,s,r){const c=(0,a.g2)("CButton"),b=(0,a.g2)("CTableHeaderCell"),f=(0,a.g2)("CTableRow"),k=(0,a.g2)("CTableHead"),v=(0,a.g2)("CTableDataCell"),_=(0,a.g2)("CIcon"),m=(0,a.g2)("CTableBody"),p=(0,a.g2)("CTable"),g=(0,a.g2)("CCardBody"),y=(0,a.g2)("CCard"),h=(0,a.g2)("CCol"),F=(0,a.g2)("CRow"),C=(0,a.g2)("CModalTitle"),L=(0,a.g2)("CModalHeader"),w=(0,a.g2)("CFormLabel"),D=(0,a.g2)("CFormInput"),T=(0,a.g2)("CFormSelect"),S=(0,a.g2)("CFormTextarea"),K=(0,a.g2)("CModalFooter"),V=(0,a.g2)("CModal");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{md:12},{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:"mb-4"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{class:"d-flex flex-column"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{component:"button",type:"button",color:"info",class:"mb-2 align-self-end text-white",onClick:l[0]||(l[0]=e=>u.isVisibleSidebar=!0)},{default:(0,a.k6)((()=>l[8]||(l[8]=[(0,a.eW)("shartnoma qo'shish")]))),_:1}),(0,a.bF)(p,{align:"middle",class:"mb-0 border",hover:"",responsive:""},{default:(0,a.k6)((()=>[(0,a.bF)(k,{color:"light"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.fields,(e=>((0,a.uX)(),(0,a.Wv)(b,{key:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.label),1)])),_:2},1024)))),128)),(0,a.bF)(b,null,{default:(0,a.k6)((()=>l[9]||(l[9]=[(0,a.eW)("Tasdiqlash")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(m,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.listData,(e=>((0,a.uX)(),(0,a.Wv)(f,{key:e.id},{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.id),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.title),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.investor),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.fond),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.condition),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.balance),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.payment_currency),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.description.uz),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.status),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.contract_type),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.percentage),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.profit),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{style:{color:"white"},disabled:"Completed"==e.status,size:"sm",class:"btn btn-success",variant:"success"},{default:(0,a.k6)((()=>[(0,a.bF)(_,{icon:"cil-check",height:"18",alt:"true",style:{"margin-right":"5px"}}),l[10]||(l[10]=(0,a.eW)(" Tasdiqlash "))])),_:2},1032,["disabled"])])),_:2},1024)])),_:2},1024)))),128)),(0,a.bF)(f)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(V,{onClose:l[7]||(l[7]=()=>{u.isVisibleSidebar=!1}),keyboard:!1,visible:u.isVisibleSidebar,class:"p-3"},{default:(0,a.k6)((()=>[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>l[11]||(l[11]=[(0,a.eW)("Shartnoma yaratish")]))),_:1})])),_:1}),(0,a.Lk)("div",i,[(0,a.bF)(w,null,{default:(0,a.k6)((()=>l[12]||(l[12]=[(0,a.eW)("Contract")]))),_:1}),(0,a.bF)(D,{type:"text",modelValue:u.formData.title,"onUpdate:modelValue":l[1]||(l[1]=e=>u.formData.title=e)},null,8,["modelValue"]),l[17]||(l[17]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)(w,null,{default:(0,a.k6)((()=>l[13]||(l[13]=[(0,a.eW)("Currency")]))),_:1}),(0,a.bF)(T,{modelValue:u.formData.payment_currency,"onUpdate:modelValue":l[2]||(l[2]=e=>u.formData.payment_currency=e)},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.currencyList,(e=>((0,a.uX)(),(0,a.CE)("option",{value:e.val,key:e.id},(0,n.v_)(e.name),9,o)))),128))])),_:1},8,["modelValue"]),l[18]||(l[18]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)(w,null,{default:(0,a.k6)((()=>l[14]||(l[14]=[(0,a.eW)("Balance")]))),_:1}),(0,a.bF)(D,{type:"number",modelValue:u.formData.balance,"onUpdate:modelValue":l[3]||(l[3]=e=>u.formData.balance=e)},null,8,["modelValue"]),l[19]||(l[19]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)(w,null,{default:(0,a.k6)((()=>l[15]||(l[15]=[(0,a.eW)("Fond")]))),_:1}),(0,a.bF)(T,{modelValue:u.formData.fond,"onUpdate:modelValue":l[4]||(l[4]=e=>u.formData.fond=e),onClick:u.fetchFondList},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.fondList,(e=>((0,a.uX)(),(0,a.CE)("option",{value:e.id,key:e.id},(0,n.v_)(e.title?.uz)+" "+(0,n.v_)(e.id),9,d)))),128))])),_:1},8,["modelValue","onClick"]),l[20]||(l[20]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)(w,null,{default:(0,a.k6)((()=>l[16]||(l[16]=[(0,a.eW)("Description")]))),_:1}),(0,a.bF)(S,{modelValue:u.formData.description,"onUpdate:modelValue":l[5]||(l[5]=e=>u.formData.description=e)},null,8,["modelValue"])]),(0,a.bF)(K,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{color:"secondary",onClick:l[6]||(l[6]=e=>u.isVisibleSidebar=!1)},{default:(0,a.k6)((()=>l[21]||(l[21]=[(0,a.eW)("Yopish")]))),_:1}),(0,a.bF)(c,{color:"primary",onClick:u.submitForm},{default:(0,a.k6)((()=>l[22]||(l[22]=[(0,a.eW)("Saqlash")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["visible"])])}var s=t(7682),r=t(953),c=t(5289),b=t(2994),f={name:"DashboardPage",components:{CInputGroup:b.BG,CFormInput:b.OG,CFormLabel:b.A6,CFormSelect:b.MT,CFormTextarea:b.Im,CModal:b.zS,CSelect:b.CSelect,CMultiSelect:b.CMultiSelect,CButton:b.Q_,CTableRow:b.YI},setup(){let e=(0,r.KR)([]);const l=(0,r.KR)(!1),t=(0,r.KR)(null),n=(0,r.KR)([]),i=(0,r.Kh)({title:null,fond:null,description:"",payment_currency:"",balance:""}),o=(0,r.KR)([{name:"UZS",val:"uzs",id:1},{name:"RUB",val:"rub",id:2},{name:"USD",val:"usd",id:3},{name:"EUR",val:"eur",id:4}]);async function d(){e.value=await c.AP.list().then((e=>e.data))}(0,a.sV)((()=>{d()}));(0,a.EW)((()=>c.bB?.fields));const u=(0,a.EW)((()=>c.AP?.fields));async function b(e){n.value=await c.du.list().then((e=>e?.data||[]));let l=e.target;l.value&&(i.fond=l.value)}async function f(){try{await s.A.post("admin/contract/create/",i),l.value=!1}catch(e){console.log(e.response?.data)}}async function k(e){console.log(e),await s.A.put(`admin/contract/update/${e.id}/`,{status:"Completed"}),d()}return{listData:e,fields:u,isVisibleSidebar:l,modalProtocol:t,formData:i,currencyList:o,fondList:n,fetchFondList:b,submitForm:f,verifyStatus:k}}},k=t(6262);const v=(0,k.A)(f,[["render",u]]);var _=v},6610:function(e,l,t){t.r(l),t.d(l,{default:function(){return c}});var a=t(641),n=t(33);function i(e,l,t,i,o,d){const u=(0,a.g2)("CTableHeaderCell"),s=(0,a.g2)("CTableRow"),r=(0,a.g2)("CTableHead"),c=(0,a.g2)("CTableDataCell"),b=(0,a.g2)("CTableBody"),f=(0,a.g2)("CTable"),k=(0,a.g2)("CCardBody"),v=(0,a.g2)("CCard"),_=(0,a.g2)("CCol"),m=(0,a.g2)("CRow");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(_,{md:12},{default:(0,a.k6)((()=>[(0,a.bF)(v,{class:"mb-4"},{default:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(f,{align:"middle",class:"mb-0 border",hover:"",responsive:""},{default:(0,a.k6)((()=>[(0,a.bF)(r,{color:"light"},{default:(0,a.k6)((()=>[(0,a.bF)(s,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.fields,(e=>((0,a.uX)(),(0,a.Wv)(u,{key:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.label),1)])),_:2},1024)))),128))])),_:1})])),_:1}),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.listData,(e=>((0,a.uX)(),(0,a.Wv)(s,{key:e.id},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.id),1)])),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.title),1)])),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.investor),1)])),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.fond),1)])),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.condition),1)])),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.balance),1)])),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.payment_currency),1)])),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.description.uz),1)])),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.status),1)])),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.contract_type),1)])),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.percentage),1)])),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.profit),1)])),_:2},1024)])),_:2},1024)))),128)),(0,a.bF)(s)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}var o=t(953),d=t(5289),u={name:"DashboardPage",components:{},setup(){let e=(0,o.KR)([]);async function l(){e.value=await d.AP.list().then((e=>e.data))}(0,a.sV)((()=>{l()}));const t=(0,a.EW)((()=>d.AP?.fields));return console.log(e,d.AP),{listData:e,fields:t}}},s=t(6262);const r=(0,s.A)(u,[["render",i]]);var c=r},1379:function(e,l,t){t.r(l),t.d(l,{default:function(){return D}});var a=t(641),n=t(33),i=t(3751);const o={class:"form-group col-12 d-flex mb-5"},d={class:"col-3"},u=["value"],s={class:"p-0 m-0 d-flex flex-row col-9 justify-content-around list-unstyled align-items-end"},r={key:0,class:"w-100 d-flex flex-row justify-content-end mb-2"},c={class:"d-flex align-items-center"},b={class:"table table-striped"},f={style:{"font-weight":"600"}},k={style:{"font-weight":"600"}},v={style:{"font-weight":"600"}},_=["value"],m=["disabled"];function p(e,l,t,p,g,y){const h=(0,a.g2)("CBadge"),F=(0,a.g2)("CButton"),C=(0,a.g2)("CFormInput"),L=(0,a.g2)("CIcon");return(0,a.uX)(),(0,a.CE)("div",null,[l[15]||(l[15]=(0,a.Lk)("h3",{class:"w-100 mb-2"},"Taqsimot",-1)),(0,a.Lk)("div",o,[(0,a.Lk)("div",d,[l[10]||(l[10]=(0,a.Lk)("label",{for:"fond-list1"},"Protokol tanlang:",-1)),(0,a.bo)((0,a.Lk)("select",{class:"form-select",id:"fond-list1","onUpdate:modelValue":l[0]||(l[0]=l=>e.selectedProtocol=l),onClick:l[1]||(l[1]=(...e)=>p.fetchProtocolList&&p.fetchProtocolList(...e))},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(p.protocolList,(e=>((0,a.uX)(),(0,a.CE)("option",{value:e,key:e.id},"protocol: "+(0,n.v_)(e.id),9,u)))),128))],512),[[i.u1,e.selectedProtocol]])]),(0,a.bo)((0,a.Lk)("ul",s,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Object.keys(e.selectedProtocol||{}),(l=>((0,a.uX)(),(0,a.CE)("li",{key:l,class:"d-block mr-2 border-1 border-secondary cil-border-all p-1 solid"},[(0,a.bF)(h,{color:"info",style:{"font-size":"13px"},shape:"rounded-pill"},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(l)+": "+(0,n.v_)(e.selectedProtocol[l]),1)])),_:2},1024)])))),128))],512),[[i.aG,e.selectedProtocol]])]),Object.keys(e.selectedProtocol||{}).length>0?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(F,{size:"sm",color:"info",style:{width:"130px"},onClick:l[2]||(l[2]=e=>p.isVisibleTable=!0)},{default:(0,a.k6)((()=>l[11]||(l[11]=[(0,a.eW)("Shakllantirish")]))),_:1}),(0,a.bF)(F,{size:"sm",color:"success",style:{"margin-left":"10px","margin-right":"10px","min-width":"130px"},onClick:p.distributeProfit},{default:(0,a.k6)((()=>l[12]||(l[12]=[(0,a.eW)("Foydani taqsimlash")]))),_:1},8,["onClick"]),(0,a.Lk)("div",c,[(0,a.bF)(C,{style:{width:"130px"},modelValue:p.insertedProfit,"onUpdate:modelValue":l[3]||(l[3]=e=>p.insertedProfit=e),modelModifiers:{number:!0}},null,8,["modelValue"]),(0,a.bF)(F,{size:"sm",color:"secondary"},{default:(0,a.k6)((()=>[(0,a.bF)(L,{icon:"cil-plus",height:"16",alt:"true",onClick:e.addProfit},null,8,["onClick"])])),_:1})])])):(0,a.Q3)("",!0),(0,a.bo)((0,a.Lk)("table",b,[l[14]||(l[14]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Korxona"),(0,a.Lk)("th",null,"Fond"),(0,a.Lk)("th",null,"Summa"),(0,a.Lk)("th",null,"%")])],-1)),(0,a.Lk)("tbody",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",f,(0,n.v_)(p.fondData?p.fondData.title?.uz:""),1),(0,a.Lk)("td",k,(0,n.v_)(p.fondData?p.fondData.title?.uz:""),1),(0,a.Lk)("td",{style:(0,n.Tr)([{"font-weight":"600"},{color:(p.fondData?p.fondData.fond_balance-p.distrAmount:0)<=0?"red":""}])},[(0,a.eW)((0,n.v_)(p.fondData?p.fondData.fond_balance-p.distrAmount:"")+" ",1),(0,a.bo)((0,a.Lk)("span",null,"Balans yetmaydi",512),[[i.aG,(p.fondData?p.fondData.fond_balance-p.distrAmount:0)<0]])],4),(0,a.Lk)("td",v,(0,n.v_)(p.fondPercent),1)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(p.tableData,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e},[(0,a.Lk)("td",null,(0,n.v_)(e.factory),1),(0,a.Lk)("td",null,(0,n.v_)(e.fond),1),(0,a.Lk)("td",null,(0,n.v_)(e.sum),1),(0,a.Lk)("td",null,(0,n.v_)(e.percent),1)])))),128)),(0,a.Lk)("tr",null,[(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select",id:"fond-list","onUpdate:modelValue":l[4]||(l[4]=e=>p.selectedOrganizations=e),onClick:l[5]||(l[5]=(...e)=>p.fetchOrganizationList&&p.fetchOrganizationList(...e))},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(p.subdistriborg,(e=>((0,a.uX)(),(0,a.CE)("option",{value:e,key:e.id},(0,n.v_)(e.title?.uz),9,_)))),128))],512),[[i.u1,p.selectedOrganizations]])]),(0,a.Lk)("td",null,(0,n.v_)(p.fondData?p.fondData.title?.uz:""),1),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("input",{type:"number",disabled:!p.selectedOrganizations?.id,"onUpdate:modelValue":l[6]||(l[6]=e=>p.distrAmount=e),onKeyup:l[7]||(l[7]=(0,i.jR)((e=>p.addNewRow()),["enter"])),style:(0,n.Tr)({border:"2px solid"+p.fondData?.fond_balance<p.distrAmount?"red":""})},null,44,m),[[i.Jo,p.distrAmount]])]),(0,a.Lk)("td",null,(0,n.v_)(p.organizationPercent),1)])]),(0,a.bF)(F,{color:"info",class:"mt-2",size:"sm",style:{width:"130px",right:"0"},onClick:(0,i.D$)(p.createDistribution,["prevent"])},{default:(0,a.k6)((()=>l[13]||(l[13]=[(0,a.eW)("Submit")]))),_:1},8,["onClick"]),(0,a.bF)(h,{color:"success",onClick:l[8]||(l[8]=()=>{}),shape:"rounded-pill",style:{"margin-right":"10px","margin-left":"50px",cursor:"pointer"}},{default:(0,a.k6)((()=>[(0,a.bF)(L,{icon:"cil-check",height:"18",alt:"true"})])),_:1}),(0,a.bF)(h,{color:"danger",shape:"rounded-pill",onClick:l[9]||(l[9]=()=>{}),style:{cursor:"pointer"}},{default:(0,a.k6)((()=>[(0,a.bF)(L,{icon:"cil-x-circle",height:"18",alt:"true"})])),_:1})],512),[[i.aG,p.isVisibleTable]])])}t(4114);var g=t(953),y=t(5289),h=t(2994),F=t(5220),C={name:"DashboardPage",components:{CInputGroup:h.BG,CFormInput:h.OG,CFormLabel:h.A6,CFormSelect:h.MT,CFormTextarea:h.Im,CModal:h.zS,CSelect:h.CSelect,CMultiSelect:h.CMultiSelect},onMounted(){},setup(){const e=(0,F.lq)(),l=((0,F.rd)(),(0,g.KR)([])),t=(0,g.KR)([]),n=(0,g.KR)([]),i=(0,g.KR)([]),o=(0,g.KR)([]),d=((0,g.KR)([]),(0,g.KR)(!1)),u=(0,g.KR)(null),s=(0,g.KR)(0),r=(0,g.KR)(null),c=(0,g.KR)(!1),b=(0,g.KR)([{name:"withdraw"},{name:"income"},{name:"outgoing"}]),f=(0,g.KR)(null),k=(0,g.Kh)({});let v=(0,g.KR)(0);const _=(0,a.EW)((()=>Object.values(k).reduce(((e,l)=>e+l),0)));(0,a.sV)((()=>{w(),L()}));const m=(0,g.Kh)({balance:null,fond:[],type:"outgoing"}),p=(0,g.Kh)({balance:null,fond:[],type:"outgoing",organization:null});async function h(){try{await y.GP.create(m),await getList(),isVisibleSidebar.value=!1}catch(e){console.log(e.response?.data)}}let C=0;async function L(){l.value=await y.du.list().then((e=>e?.data||[])),l.value=l.value.filter((l=>l.id==e.params.id))[0],C=+l.value.fond_balance}async function w(){r.value=await y.T2.list().then((e=>e?.data||[]))}async function D(){t.value=await y.GP.list().then((e=>e?.data||[]))}function T(){let e=S.value.map((e=>{let l={};return l.organization=e.id,l.balance=e.sum,l}));y.zm.create({subdistributions:e,fond:l.value?.id})}(0,a.wB)(i,(()=>{_.value=0}));const S=(0,g.KR)([]);function K(){const e={factory:i.value?.title?.uz,id:i.value?.id,fond:l.value?.title?.uz,sum:Number(s.value),percent:V.value};l.value.fond_balance=+l.value.fond_balance-Number(s.value),S.value.push(e),s.value=0,i.value=null}const V=(0,a.EW)((()=>100*Number(s.value)/C)),W=(0,a.EW)((()=>{let e=100*l.value?.fond_balance/C;return e%1==0?e:e.toFixed(2)}));(0,a.wB)(s,(()=>{S.value.forEach((e=>{e.percent=100*Number(e.sum)/C})),console.log(S)}));const E=(0,g.KR)(0);async function R(){}return{insertedProfit:E,distributeProfit:R,organizationPercent:V,fondPercent:W,tableData:S,formData:m,submitForm:h,fetchFondList:L,organizationList:n,fetchOrganizationList:w,fondData:l,contract_date:f,typeList:b,isVisibleTable:c,isOrganizationSelect:d,formDataDistr:p,subdistrib:u,distrAmount:s,balances:k,insertedBalances:_,totalBalance:v,createDistribution:T,selectedOrganizations:i,selectedFond:o,subdistriborg:r,fetchProtocolList:D,protocolList:t,addNewRow:K}}},L=t(6262);const w=(0,L.A)(C,[["render",p]]);var D=w},504:function(e,l,t){t.r(l),t.d(l,{default:function(){return v}});var a=t(641),n=t(33);const i={key:0,class:"mt-3"},o=["value"];function d(e,l,t,d,u,s){const r=(0,a.g2)("CTableHeaderCell"),c=(0,a.g2)("CTableRow"),b=(0,a.g2)("CTableHead"),f=(0,a.g2)("CTableDataCell"),k=(0,a.g2)("router-link"),v=(0,a.g2)("CTableBody"),_=(0,a.g2)("CTable"),m=(0,a.g2)("CCardBody"),p=(0,a.g2)("CCard"),g=(0,a.g2)("CCol"),y=(0,a.g2)("CRow"),h=(0,a.g2)("CModalTitle"),F=(0,a.g2)("CModalHeader"),C=(0,a.g2)("CFormLabel"),L=(0,a.g2)("CFormInput"),w=(0,a.g2)("CFormTextarea"),D=(0,a.g2)("CInputGroup"),T=(0,a.g2)("CFormSelect"),S=(0,a.g2)("CButton"),K=(0,a.g2)("CModalFooter"),V=(0,a.g2)("CModal");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(y,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,{md:12},{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"mb-4"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"d-flex flex-column"},{default:(0,a.k6)((()=>[(0,a.bF)(_,{align:"middle",class:"mb-0 border",hover:"",responsive:""},{default:(0,a.k6)((()=>[(0,a.bF)(b,{color:"light"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(d.fields,(e=>((0,a.uX)(),(0,a.CE)(a.FK,{key:e},[e.visible&&"created"!=e.key&&"start_date"!=e.key&&"end_date"!=e.key?((0,a.uX)(),(0,a.Wv)(r,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.label),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)))),128)),(0,a.bF)(r,null,{default:(0,a.k6)((()=>l[1]||(l[1]=[(0,a.eW)(" Taqsimot ")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(d.listData,(e=>((0,a.uX)(),(0,a.Wv)(c,{key:e.id},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.id),1)])),_:2},1024),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.title.uz),1)])),_:2},1024),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.reason.uz),1)])),_:2},1024),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.description.uz),1)])),_:2},1024),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.fond_balance),1)])),_:2},1024),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.status),1)])),_:2},1024),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.bF)(k,{to:{name:"Distribution",params:{id:e.id}},target:"_blank",style:{"text-decoration":"none"}},{default:(0,a.k6)((()=>l[2]||(l[2]=[(0,a.eW)(" Taqsimotni ko'rish ")]))),_:2},1032,["to"])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(V,{onClose:l[0]||(l[0]=()=>{d.isVisibleSidebar=!1}),keyboard:!1,visible:d.isVisibleSidebar},{default:(0,a.k6)((()=>[(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>l[3]||(l[3]=[(0,a.eW)("Protokol yaratish")]))),_:1})])),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(d.fields,((e,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l},["id"!=e.key&&"more"!=e.key&&"user"!=e.key&&"status"!=e.key&&"contract"!=e.key?((0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.label),1)])),_:2},1024),"fond"!=e.key&&"contract"!=e.key?((0,a.uX)(),(0,a.Wv)(D,{key:0},{default:(0,a.k6)((()=>[e.visible&&"description"!=e.key?((0,a.uX)(),(0,a.Wv)(L,{key:0,type:"number",placeholder:e.label,"aria-label":e.label,"aria-describedby":"basic-addon-"+e.key,modelValue:d.formData[e.key],"onUpdate:modelValue":l=>d.formData[e.key]=l,modelModifiers:{number:!0}},null,8,["placeholder","aria-label","aria-describedby","modelValue","onUpdate:modelValue"])):"description"!=e.key?((0,a.uX)(),(0,a.Wv)(L,{key:1,placeholder:e.label,"aria-label":e.label,modelValue:d.formData[e.key],"onUpdate:modelValue":l=>d.formData[e.key]=l},null,8,["placeholder","aria-label","modelValue","onUpdate:modelValue"])):((0,a.uX)(),(0,a.Wv)(w,{key:2,placeholder:"Enter Description",modelValue:d.formData[e.key],"onUpdate:modelValue":l=>d.formData[e.key]=l},null,8,["modelValue","onUpdate:modelValue"]))])),_:2},1024)):"fond"===e.key?((0,a.uX)(),(0,a.Wv)(T,{key:1,modelValue:d.formData[e.key],"onUpdate:modelValue":l=>d.formData[e.key]=l,onClick:d.fetchFondList},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(d.fondList,(e=>((0,a.uX)(),(0,a.CE)("option",{value:e.id,key:e.id},(0,n.v_)(e.title.uz),9,o)))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onClick"])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])))),128)),(0,a.bF)(K,null,{default:(0,a.k6)((()=>[(0,a.bF)(S,{color:"secondary"},{default:(0,a.k6)((()=>l[4]||(l[4]=[(0,a.eW)("Yopish")]))),_:1}),(0,a.bF)(S,{color:"primary",onClick:d.submitForm},{default:(0,a.k6)((()=>l[5]||(l[5]=[(0,a.eW)("Saqlash")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["visible"])])}t(4979);var u=t(953),s=t(5289),r=t(5673),c=t(2994),b={name:"DashboardPage",components:{CInputGroup:c.BG,CFormInput:c.OG,CFormLabel:c.A6,CFormSelect:c.MT,CFormTextarea:c.Im,CModal:c.zS,CSelect:c.CSelect,CMultiSelect:c.CMultiSelect},onMounted(){},setup(){let e=(0,u.KR)([]);const l=(0,u.KR)(!1),t=(0,u.KR)(null),n=(0,u.KR)([]),i=(0,r.G)("accessToken"),o=i.split(".")[1],d=JSON.parse(window.atob(o)),c=d.user_role,b=d.username,f=d?.user_id;async function k(){e.value=await s.du.list().then((e=>e?.data||[]))}(0,a.sV)((()=>{k()}));const v=(0,a.EW)((()=>s.du?.fields)),_=(0,u.Kh)({user:f,balance:null,fond:[],profit:null,percentage:null,description:null}),m=(0,u.KR)("");function p(e){m.value=e}async function g(){try{await s.GP.create(_),await k(),l.value=!1}catch(e){console.log(e.response?.data)}}async function y(){n.value=await s.du.list().then((e=>e?.data||[]))}return{listData:e,fields:v,isVisibleSidebar:l,modalProtocol:t,formData:_,submitForm:g,fondList:n,fetchFondList:y,selectedRowData:m,openModal:p,currentUser:b,currentUserId:f,currentUserRole:c}}},f=t(6262);const k=(0,f.A)(b,[["render",d]]);var v=k},4272:function(e,l,t){t.r(l),t.d(l,{default:function(){return c}});var a=t(641),n=t(33);function i(e,l,t,i,o,d){const u=(0,a.g2)("CButton"),s=(0,a.g2)("CTableHeaderCell"),r=(0,a.g2)("CTableRow"),c=(0,a.g2)("CTableHead"),b=(0,a.g2)("CTableDataCell"),f=(0,a.g2)("CTableBody"),k=(0,a.g2)("CTable"),v=(0,a.g2)("CCardBody"),_=(0,a.g2)("CCard"),m=(0,a.g2)("CCol"),p=(0,a.g2)("CRow"),g=(0,a.g2)("CModalTitle"),y=(0,a.g2)("CModalHeader"),h=(0,a.g2)("CModalBody"),F=(0,a.g2)("CModalFooter"),C=(0,a.g2)("CModal");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{md:12},{default:(0,a.k6)((()=>[(0,a.bF)(_,{class:"mb-4"},{default:(0,a.k6)((()=>[(0,a.bF)(v,{class:"d-flex flex-column"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{component:"button",type:"button",color:"info",class:"mb-2 align-self-end text-white",onClick:l[0]||(l[0]=e=>i.isVisibleSidebar=!0)},{default:(0,a.k6)((()=>l[2]||(l[2]=[(0,a.eW)("Fond qo'shish")]))),_:1}),(0,a.bF)(k,{align:"middle",class:"mb-0 border",hover:"",responsive:""},{default:(0,a.k6)((()=>[(0,a.bF)(c,{color:"light"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.fields,(e=>((0,a.uX)(),(0,a.Wv)(s,{key:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.label),1)])),_:2},1024)))),128))])),_:1})])),_:1}),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.listData,(e=>((0,a.uX)(),(0,a.Wv)(r,{key:e.id},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.id),1)])),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.title.uz),1)])),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.reason.uz),1)])),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.description.uz),1)])),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.old_balance),1)])),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.fond_balance),1)])),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.status),1)])),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.created),1)])),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.start_date),1)])),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.end_date),1)])),_:2},1024)])),_:2},1024)))),128)),(0,a.bF)(r)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(C,{backdrop:!1,keyboard:!1,visible:i.isVisibleSidebar},{default:(0,a.k6)((()=>[(0,a.bF)(y,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>l[3]||(l[3]=[(0,a.eW)("Modal title")]))),_:1})])),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>l[4]||(l[4]=[(0,a.eW)("Modal body text goes here.")]))),_:1}),(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{color:"secondary",onClick:l[1]||(l[1]=e=>i.isVisibleSidebar=!1)},{default:(0,a.k6)((()=>l[5]||(l[5]=[(0,a.eW)("Close")]))),_:1}),(0,a.bF)(u,{color:"primary"},{default:(0,a.k6)((()=>l[6]||(l[6]=[(0,a.eW)("Save changes")]))),_:1})])),_:1})])),_:1},8,["visible"])])}var o=t(953),d=t(5289),u={name:"DashboardPage",components:{},setup(){let e=(0,o.KR)([]);const l=(0,o.KR)(!1);async function t(){e.value=await d.du.list().then((e=>e.data))}(0,a.sV)((()=>{t()}));const n=(0,a.EW)((()=>d.du?.fields));return console.log(e,d.du),{listData:e,fields:n,isVisibleSidebar:l}}},s=t(6262);const r=(0,s.A)(u,[["render",i]]);var c=r},317:function(e,l,t){t.r(l),t.d(l,{default:function(){return m}});var a=t(641),n=t(33),i=t(3751);const o={class:"d-flex flex-column gap-3"},d=["value"];function u(e,l,t,u,s,r){const c=(0,a.g2)("CButton"),b=(0,a.g2)("CTableHeaderCell"),f=(0,a.g2)("CTableRow"),k=(0,a.g2)("CTableHead"),v=(0,a.g2)("CTableDataCell"),_=(0,a.g2)("CIcon"),m=(0,a.g2)("CTableBody"),p=(0,a.g2)("CTable"),g=(0,a.g2)("CCardBody"),y=(0,a.g2)("CCard"),h=(0,a.g2)("CCol"),F=(0,a.g2)("CRow"),C=(0,a.g2)("CModalTitle"),L=(0,a.g2)("CModalHeader"),w=(0,a.g2)("CFormLabel"),D=(0,a.g2)("CFormSelect"),T=(0,a.g2)("CModalBody"),S=(0,a.g2)("CModalFooter"),K=(0,a.g2)("CModal");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{md:12},{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:"mb-4"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{class:"d-flex flex-column"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{component:"button",type:"button",color:"info",class:"mb-2 align-self-end text-white",onClick:l[0]||(l[0]=e=>u.isVisibleSidebar=!0)},{default:(0,a.k6)((()=>l[7]||(l[7]=[(0,a.eW)("shartnoma qo'shish")]))),_:1}),(0,a.bF)(p,{align:"middle",class:"mb-0 border",hover:"",responsive:""},{default:(0,a.k6)((()=>[(0,a.bF)(k,{color:"light"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.fields,(e=>((0,a.uX)(),(0,a.CE)(a.FK,{key:e},[e.visible?((0,a.uX)(),(0,a.Wv)(b,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.label),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)))),128)),(0,a.bF)(b,null,{default:(0,a.k6)((()=>l[8]||(l[8]=[(0,a.eW)("Tasdiqlash")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(m,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.listData,(e=>((0,a.uX)(),(0,a.Wv)(f,{key:e.id,onClick:l=>u.openModal(e)},{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.id),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.organization?e.organization.uz:""),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.contract_date),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.balance),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.status),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.type),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.subdistribution),1)])),_:2},1024),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{style:{color:"white"},disabled:"Completed"==e.status,size:"sm",class:"btn btn-success",variant:"success",onClick:l=>u.verifyStatus(e)},{default:(0,a.k6)((()=>[(0,a.bF)(_,{icon:"cil-check",height:"18",alt:"true",style:{"margin-right":"5px"}}),l[9]||(l[9]=(0,a.eW)(" Tasdiqlash "))])),_:2},1032,["disabled","onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(K,{onClose:l[6]||(l[6]=()=>{u.isVisibleSidebar=!1}),keyboard:!1,visible:u.isVisibleSidebar},{default:(0,a.k6)((()=>[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>l[10]||(l[10]=[(0,a.eW)("Shartnoma yaratish")]))),_:1})])),_:1}),(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",o,[(0,a.Lk)("div",null,[(0,a.bF)(w,null,{default:(0,a.k6)((()=>l[11]||(l[11]=[(0,a.eW)("Korxona")]))),_:1}),(0,a.bF)(D,{modelValue:u.formData.organization,"onUpdate:modelValue":l[1]||(l[1]=e=>u.formData.organization=e)},{default:(0,a.k6)((()=>[l[12]||(l[12]=(0,a.Lk)("option",{value:"",selected:"",disabled:""},"Tanlang",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.orgList,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.title?.uz),9,d)))),128))])),_:1},8,["modelValue"])]),(0,a.Lk)("div",null,[(0,a.bF)(w,null,{default:(0,a.k6)((()=>l[13]||(l[13]=[(0,a.eW)("Sanasi")]))),_:1}),(0,a.bo)((0,a.Lk)("input",{type:"date",id:"","onUpdate:modelValue":l[2]||(l[2]=e=>u.formData.contract_date=e),class:"form-control"},null,512),[[i.Jo,u.formData.contract_date]])]),(0,a.Lk)("div",null,[(0,a.bF)(w,null,{default:(0,a.k6)((()=>l[14]||(l[14]=[(0,a.eW)("Taqsimot")]))),_:1}),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"","onUpdate:modelValue":l[3]||(l[3]=e=>u.formData.subdistribution=e),class:"form-control",disabled:""},null,512),[[i.Jo,u.formData.subdistribution]])]),(0,a.Lk)("div",null,[(0,a.bF)(w,null,{default:(0,a.k6)((()=>l[15]||(l[15]=[(0,a.eW)("Balance")]))),_:1}),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=e=>u.formData.balance=e),class:"form-control",disabled:""},null,512),[[i.Jo,u.formData.balance]])])])])),_:1}),(0,a.bF)(S,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{color:"secondary",onClick:l[5]||(l[5]=e=>u.isVisibleSidebar=!1)},{default:(0,a.k6)((()=>l[16]||(l[16]=[(0,a.eW)("Yopish")]))),_:1}),(0,a.bF)(c,{color:"primary",onClick:u.submitForm},{default:(0,a.k6)((()=>l[17]||(l[17]=[(0,a.eW)("Saqlash")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["visible"])])}t(4979);var s=t(7682),r=t(953),c=t(5289),b=t(5673),f=t(2994),k={name:"DashboardPage",components:{CInputGroup:f.BG,CFormInput:f.OG,CFormLabel:f.A6,CFormSelect:f.MT,CFormTextarea:f.Im,CModal:f.zS,CSelect:f.CSelect,CMultiSelect:f.CMultiSelect,CButton:f.Q_,CTableRow:f.YI},onMounted(){},setup(){let e=(0,r.KR)([]);const l=(0,r.KR)(!1),t=(0,r.KR)(null),n=(0,r.KR)([{name:"",id:null}]),i=(0,b.G)("accessToken"),o=i.split(".")[1],d=JSON.parse(window.atob(o)),u=d.user_role,f=d.username,k=d?.user_id,v=(0,r.KR)(""),_=(0,r.KR)([{name:"",id:4},{name:"withdraw",id:1},{name:"income",id:2},{name:"outgoing",id:3}]),m=(0,r.Kh)({organization:null,contract_date:null,balance:null,subdistribution:null});async function p(){e.value=await c.bB.list().then((e=>e?.data||[]))}(0,a.sV)((()=>{p(),C()}));const g=(0,a.EW)((()=>c.bB?.fields));(0,a.wB)((()=>m.organization),(e=>{console.log(e),m.subdistribution=n.value.find((l=>l.id==e))?.sub_distributions?.id||"-",m.balance=n.value.find((l=>l.id==e))?.sub_distributions?.balance??"-"}),{immediate:!0});const y=(0,r.KR)("");function h(e){y.value=e}async function F(){try{await c.bB.create(m),await p(),l.value=!1}catch(e){console.log(e.response?.data)}}async function C(){n.value=await c.T2.list().then((e=>e?.data||[]))}async function L(e){console.log(e),await s.A.put(`admin/contract/org-contract/update/${e.id}/`,{status:"Completed"}),p()}return{verifyStatus:L,listData:e,fields:g,isVisibleSidebar:l,modalProtocol:t,formData:m,submitForm:F,orgList:n,fetchOrgList:C,selectedRowData:y,openModal:h,currentUser:f,currentUserId:k,currentUserRole:u,selectedDate:v,typeList:_}}},v=t(6262);const _=(0,v.A)(k,[["render",u]]);var m=_},8760:function(e,l,t){t.r(l),t.d(l,{default:function(){return F}});var a=t(641),n=t(33);const i={style:{"font-weight":"700"}},o={class:"col-5"},d={style:{"font-weight":"500"}},u={style:{"font-weight":"500"}},s={class:"col-7",style:{"padding-left":"20px"}},r={style:{"font-weight":"500"}},c={style:{"font-weight":"500"}},b={style:{"font-weight":"500"}},f={style:{"font-weight":"500"}},k={style:{"font-weight":"500"}};function v(e,l,t,v,_,m){const p=(0,a.g2)("CTableHeaderCell"),g=(0,a.g2)("CTableRow"),y=(0,a.g2)("CTableHead"),h=(0,a.g2)("CTableDataCell"),F=(0,a.g2)("CTableBody"),C=(0,a.g2)("CTable"),L=(0,a.g2)("CCardBody"),w=(0,a.g2)("CCard"),D=(0,a.g2)("CCol"),T=(0,a.g2)("CRow");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("h2",null,"Protokol #"+(0,n.v_)(t.id),1),(0,a.Lk)("h4",null,"Fond #"+(0,n.v_)(v.listData.fond),1),(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.bF)(D,{md:12},{default:(0,a.k6)((()=>[(0,a.bF)(w,{class:"mb-4",style:{width:"50%"}},{default:(0,a.k6)((()=>[(0,a.bF)(L,{class:"d-flex flex-column"},{default:(0,a.k6)((()=>[(0,a.bF)(C,{align:"middle",class:"mb-0 border",hover:"",responsive:""},{default:(0,a.k6)((()=>[(0,a.bF)(y,{color:"light"},{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(p),(0,a.bF)(p,null,{default:(0,a.k6)((()=>l[0]||(l[0]=[(0,a.eW)(" Yanvar ")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>l[1]||(l[1]=[(0,a.Lk)("div",null,"Foyda: ",-1)]))),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(v.listData.profit),1)])),_:1})])),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>l[2]||(l[2]=[(0,a.Lk)("div",null,"Dividend solig'i: ",-1)]))),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(v.listData.percentage),1)])),_:1})])),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>l[3]||(l[3]=[(0,a.Lk)("div",{style:{"font-weight":"700"}},"Sof foyda: ",-1)]))),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,(0,n.v_)(v.listData.profit-v.listData.percentage),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(w,{class:"mb-4"},{default:(0,a.k6)((()=>[(0,a.bF)(L,{class:"d-flex flex-row justify-content-between"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",o,[l[6]||(l[6]=(0,a.Lk)("p",null,"Sana: ",-1)),(0,a.bF)(C,{align:"middle",class:"mb-0 border protocol-table",hover:"",responsive:""},{default:(0,a.k6)((()=>[(0,a.bF)(y,{color:"light"},{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.fields.filter((e=>"inn"==e.key||"id"==e.key||"percentage"==e.key||"contract_total_balance"==e.key)),(e=>((0,a.uX)(),(0,a.Wv)(p,{key:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.label),1)])),_:2},1024)))),128))])),_:1})])),_:1}),(0,a.bF)(F,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.listData.investor,(e=>((0,a.uX)(),(0,a.Wv)(g,{key:e.id},{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.id),1)])),_:2},1024),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.inn),1)])),_:2},1024),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.contract_total_balance),1)])),_:2},1024),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.percentage),1)])),_:2},1024)])),_:2},1024)))),128)),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>l[4]||(l[4]=[(0,a.Lk)("div",null,null,-1)]))),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>l[5]||(l[5]=[(0,a.Lk)("div",{style:{"font-weight":"500"}},"Jami",-1)]))),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",d,(0,n.v_)(v.sumOfTotalBalance),1)])),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",u,(0,n.v_)(v.sumOfTotalPercent),1)])),_:1})])),_:1})])),_:1})])),_:1})]),(0,a.Lk)("div",s,[l[8]||(l[8]=(0,a.Lk)("p",null,"Sana: ",-1)),(0,a.bF)(C,{align:"middle",class:"mb-0 border protocol-table",hover:"",responsive:""},{default:(0,a.k6)((()=>[(0,a.bF)(y,{color:"light"},{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.fields.filter((e=>"initial_balance"==e.key||"withdraw"==e.key||"client_balance"==e.key||"old_percentage"==e.key||"dividend"==e.key||"investment"==e.key)),(e=>((0,a.uX)(),(0,a.Wv)(p,{key:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.label),1)])),_:2},1024)))),128))])),_:1})])),_:1}),(0,a.bF)(F,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.listData.investor,(e=>((0,a.uX)(),(0,a.Wv)(g,{key:e.id},{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.initial_balance),1)])),_:2},1024),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.withdraw),1)])),_:2},1024),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.client_balance),1)])),_:2},1024),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.old_percentage),1)])),_:2},1024),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.dividend),1)])),_:2},1024),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.investment),1)])),_:2},1024)])),_:2},1024)))),128)),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,(0,n.v_)(v.sum_initial_balance),1)])),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",c,(0,n.v_)(v.sum_withdraw),1)])),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",b,(0,n.v_)(v.sum_client_balance),1)])),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",f,(0,n.v_)(v.sum_old_percentage),1)])),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",k,(0,n.v_)(v.sum_dividend),1)])),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>l[7]||(l[7]=[(0,a.Lk)("div",{style:{"font-weight":"500"}},(0,n.v_)(0),-1)]))),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1})])}var _=t(953),m=(t(7682),t(5289)),p=(t(6501),t(2994)),g={name:"DashboardPage",props:["id"],components:{CInputGroup:p.BG,CFormInput:p.OG,CFormLabel:p.A6,CFormSelect:p.MT,CFormTextarea:p.Im,CModal:p.zS,CSelect:p.CSelect,CMultiSelect:p.CMultiSelect,CTableRow:p.YI},setup(e){const l=(0,_.KR)({}),t=(0,_.KR)(0),n=(0,_.KR)(0),i=(0,_.KR)(0),o=(0,_.KR)(0),d=(0,_.KR)(0),u=(0,_.KR)(0),s=(0,_.KR)(0);async function r(){await m.Zc.list({id:e?.id}).then((e=>{l.value=e.data,t.value=e.data?.investor?.reduce(((e,l)=>e+(l.contract_total_balance>0?l.contract_total_balance:0)),0),n.value=e.data?.investor?.reduce(((e,l)=>e+(l.percentage>0?l.percentage:0)),0),i.value=e.data?.investor?.reduce(((e,l)=>e+(l.initial_balance>0?l.initial_balance:0)),0),o.value=e.data?.investor?.reduce(((e,l)=>e+(l.withdraw>0?l.withdraw:0)),0),d.value=e.data?.investor?.reduce(((e,l)=>e+(l.client_balance>0?l.client_balance:0)),0),u.value=e.data?.investor?.reduce(((e,l)=>e+(l.old_percentage>0?l.old_percentage:0)),0),s.value=e.data?.investor?.reduce(((e,l)=>e+(l.dividend>0?l.dividend:0)),0)}))}(0,a.sV)((()=>{r()}));const c=(0,a.EW)((()=>m.Zc?.fields));return{listData:l,fields:c,sumOfTotalBalance:t,sumOfTotalPercent:n,sum_initial_balance:i,sum_withdraw:o,sum_client_balance:d,sum_old_percentage:u,sum_dividend:s}}},y=t(6262);const h=(0,y.A)(g,[["render",v]]);var F=h},9104:function(e,l,t){t.r(l),t.d(l,{default:function(){return v}});var a=t(641),n=t(33);const i={key:0,class:"mt-3"},o=["value"];function d(e,l,t,d,u,s){const r=(0,a.g2)("CButton"),c=(0,a.g2)("CTableHeaderCell"),b=(0,a.g2)("CTableRow"),f=(0,a.g2)("CTableHead"),k=(0,a.g2)("CTableDataCell"),v=(0,a.g2)("router-link"),_=(0,a.g2)("CTableBody"),m=(0,a.g2)("CTable"),p=(0,a.g2)("CCardBody"),g=(0,a.g2)("CCard"),y=(0,a.g2)("CCol"),h=(0,a.g2)("CRow"),F=(0,a.g2)("CModalTitle"),C=(0,a.g2)("CModalHeader"),L=(0,a.g2)("CFormLabel"),w=(0,a.g2)("CFormInput"),D=(0,a.g2)("CFormTextarea"),T=(0,a.g2)("CInputGroup"),S=(0,a.g2)("CFormSelect"),K=(0,a.g2)("CModalFooter"),V=(0,a.g2)("CModal");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.bF)(y,{md:12},{default:(0,a.k6)((()=>[(0,a.bF)(g,{class:"mb-4"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"d-flex flex-column"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{component:"button",type:"button",color:"info",class:"mb-2 align-self-end text-white",onClick:l[0]||(l[0]=e=>d.isVisibleSidebar=!0)},{default:(0,a.k6)((()=>l[2]||(l[2]=[(0,a.eW)("Protokol qo'shish")]))),_:1}),(0,a.bF)(m,{align:"middle",class:"mb-0 border",hover:"",responsive:""},{default:(0,a.k6)((()=>[(0,a.bF)(f,{color:"light"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(d.fields,(e=>((0,a.uX)(),(0,a.CE)(a.FK,{key:e},[e.visible?((0,a.uX)(),(0,a.Wv)(c,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.label),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)))),128))])),_:1})])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(d.listData,(e=>((0,a.uX)(),(0,a.Wv)(b,{key:e.id,onClick:l=>d.openModal(e)},{default:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.id),1)])),_:2},1024),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.user),1)])),_:2},1024),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.fond),1)])),_:2},1024),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.balance),1)])),_:2},1024),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.profit),1)])),_:2},1024),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.percentage),1)])),_:2},1024),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.description),1)])),_:2},1024),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.bF)(v,{to:{name:"ProtocolInfo",params:{id:e.id}},target:"_blank",style:{"text-decoration":"none"}},{default:(0,a.k6)((()=>l[3]||(l[3]=[(0,a.eW)(" Batafsil ")]))),_:2},1032,["to"])])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(V,{onClose:l[1]||(l[1]=()=>{d.isVisibleSidebar=!1}),keyboard:!1,visible:d.isVisibleSidebar},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.bF)(F,null,{default:(0,a.k6)((()=>l[4]||(l[4]=[(0,a.eW)("Protokol yaratish")]))),_:1})])),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(d.fields,((e,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l},["id"!=e.key&&"more"!=e.key&&"user"!=e.key&&"status"!=e.key&&"contract"!=e.key?((0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.label),1)])),_:2},1024),"fond"!=e.key&&"contract"!=e.key?((0,a.uX)(),(0,a.Wv)(T,{key:0},{default:(0,a.k6)((()=>[e.visible&&"description"!=e.key?((0,a.uX)(),(0,a.Wv)(w,{key:0,type:"number",placeholder:e.label,"aria-label":e.label,"aria-describedby":"basic-addon-"+e.key,modelValue:d.formData[e.key],"onUpdate:modelValue":l=>d.formData[e.key]=l,modelModifiers:{number:!0}},null,8,["placeholder","aria-label","aria-describedby","modelValue","onUpdate:modelValue"])):"description"!=e.key?((0,a.uX)(),(0,a.Wv)(w,{key:1,placeholder:e.label,"aria-label":e.label,modelValue:d.formData[e.key],"onUpdate:modelValue":l=>d.formData[e.key]=l},null,8,["placeholder","aria-label","modelValue","onUpdate:modelValue"])):((0,a.uX)(),(0,a.Wv)(D,{key:2,placeholder:"Enter Description",modelValue:d.formData[e.key],"onUpdate:modelValue":l=>d.formData[e.key]=l},null,8,["modelValue","onUpdate:modelValue"]))])),_:2},1024)):"fond"===e.key?((0,a.uX)(),(0,a.Wv)(S,{key:1,modelValue:d.formData[e.key],"onUpdate:modelValue":l=>d.formData[e.key]=l,onClick:d.fetchFondList},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(d.fondList,(e=>((0,a.uX)(),(0,a.CE)("option",{value:e.id,key:e.id},(0,n.v_)(e.title.uz),9,o)))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onClick"])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])))),128)),(0,a.bF)(K,null,{default:(0,a.k6)((()=>[(0,a.bF)(r,{color:"secondary"},{default:(0,a.k6)((()=>l[5]||(l[5]=[(0,a.eW)("Yopish")]))),_:1}),(0,a.bF)(r,{color:"primary",onClick:d.submitForm},{default:(0,a.k6)((()=>l[6]||(l[6]=[(0,a.eW)("Saqlash")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["visible"])])}t(4979);var u=t(953),s=t(5289),r=t(5673),c=t(2994),b={name:"DashboardPage",components:{CInputGroup:c.BG,CFormInput:c.OG,CFormLabel:c.A6,CFormSelect:c.MT,CFormTextarea:c.Im,CModal:c.zS,CSelect:c.CSelect,CMultiSelect:c.CMultiSelect},onMounted(){},setup(){let e=(0,u.KR)([]);const l=(0,u.KR)(!1),t=(0,u.KR)(null),n=(0,u.KR)([]),i=(0,r.G)("accessToken"),o=i.split(".")[1],d=JSON.parse(window.atob(o)),c=d.user_role,b=d.username,f=d?.user_id;async function k(){e.value=await s.GP.list().then((e=>e?.data||[]))}(0,a.sV)((()=>{k()}));const v=(0,a.EW)((()=>s.GP?.fields)),_=(0,u.Kh)({user:f,balance:null,fond:[],profit:null,percentage:null,description:null}),m=(0,u.KR)("");function p(e){m.value=e}async function g(){try{await s.GP.create(_),await k(),l.value=!1}catch(e){console.log(e.response?.data)}}async function y(){n.value=await s.du.list().then((e=>e?.data||[]))}return{listData:e,fields:v,isVisibleSidebar:l,modalProtocol:t,formData:_,submitForm:g,fondList:n,fetchFondList:y,selectedRowData:m,openModal:p,currentUser:b,currentUserId:f,currentUserRole:c}}},f=t(6262);const k=(0,f.A)(b,[["render",d]]);var v=k},2106:function(e,l,t){var a=t(283),n=t(4913);e.exports=function(e,l,t){return t.get&&a(t.get,l,{getter:!0}),t.set&&a(t.set,l,{setter:!0}),n.f(e,l,t)}},7979:function(e,l,t){var a=t(8551);e.exports=function(){var e=a(this),l="";return e.hasIndices&&(l+="d"),e.global&&(l+="g"),e.ignoreCase&&(l+="i"),e.multiline&&(l+="m"),e.dotAll&&(l+="s"),e.unicode&&(l+="u"),e.unicodeSets&&(l+="v"),e.sticky&&(l+="y"),l}},9479:function(e,l,t){var a=t(4576),n=t(3724),i=t(2106),o=t(7979),d=t(9039),u=a.RegExp,s=u.prototype,r=n&&d((function(){var e=!0;try{u(".","d")}catch(r){e=!1}var l={},t="",a=e?"dgimsy":"gimsy",n=function(e,a){Object.defineProperty(l,e,{get:function(){return t+=a,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(i.hasIndices="d"),i)n(o,i[o]);var d=Object.getOwnPropertyDescriptor(s,"flags").get.call(l);return d!==a||t!==a}));r&&i(s,"flags",{configurable:!0,get:o})}}]);
//# sourceMappingURL=dashboard.2f47abb6.js.map